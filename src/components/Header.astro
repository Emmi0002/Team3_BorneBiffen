---
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1);
---

<header x-data="{ showmenu: false }" class="fixed inset-x-0 top-0 z-50">
  <div class="mx-auto px-4 py-6 flex items-center justify-between">
    <!-- Logo -->
    <div class="flex items-center gap-10">
      <a href="/" class="flex flex-col">
        <img src="/img/BornebiffenLogo.webp" alt="Logo" class="w-40 lg:w-48" />
      </a>

      <!-- Desktop nav -->
      <nav class="hidden md:flex lg:items-center md:gap-8">
        <a href="/listview" class="text-[var(--color-text-label)] font-bold hover:text-[var(--color-primary)] transition-colors">Alle film</a>
        <a href="/minside" class="text-[var(--color-text-label)] font-bold hover:text-[var(--color-primary)] transition-colors">Min side</a>
      </nav>
    </div>

    <!-- Actions: search, login, hamburger -->
    <div class="flex items-center gap-4">
      <!-- Search (visible on all sizes, but smaller on mobile) -->
      <button aria-label="Søg" class="p-2 rounded-full">
        <img src="/img/icons/Searchpurple.webp" alt="Søg" class="w-6 h-6" />
      </button>

      <!-- Login button (desktop: label + icon; mobile: still visible) -->
      <a href="/login" class="hidden md:inline-flex items-center gap-3 bg-[var(--color-primary)] text-[var(--color-primary-content)] px-4 py-2 rounded-[12px]">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"
          ><path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 10-8 0v4"></path><path stroke-linecap="round" stroke-linejoin="round" d="M5 11h14v8a2 2 0 01-2 2H7a2 2 0 01-2-2v-8z"></path></svg
        >
        <span class="font-medium">Login</span>
      </a>

      <!-- Mobile login-ish button shown on small screens as pill (keeps visual weight) -->
      <a href="/login" class="md:hidden inline-flex items-center gap-2 bg-[var(--color-primary)] text-[var(--color-primary-content)] px-3 py-2 rounded-[12px]">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"
          ><path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 10-8 0v4"></path><path stroke-linecap="round" stroke-linejoin="round" d="M5 11h14v8a2 2 0 01-2 2H7a2 2 0 01-2-2v-8z"></path></svg
        >
      </a>

      <!-- Hamburger (mobile) -->
      <button x-on:click="showmenu = !showmenu" class="lg:hidden p-2 rounded-md text-[var(--color-text-label)]">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-10 h-10">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile dropdown menu -->
  <nav x-show="showmenu" x-transition @click.outside="showmenu = false" class="lg:hidden absolute top-full left-0 w-full z-40">
    <ul class="bg-[var(--color-base-300)] border-t border-b border-[var(--color-primary)] divide-y divide-[var(--color-primary)]">
      <li>
        <a href="/" class="block w-full text-center py-6 text-2xl font-[var(--font-bold)] text-[var(--color-text-label)] hover:text-[var(--color-primary)] transition-colors">
          <span style="font-family:var(--font-bold); font-weight:700; font-size:18px;">Hjem</span>
        </a>
      </li>
      <li>
        <a href="/listview" class="block w-full text-center py-6 text-2xl font-[var(--font-bold)] text-[var(--color-text-label)] hover:text-[var(--color-primary)] transition-colors">
          <span style="font-family:var(--font-bold); font-weight:700; font-size:18px;">Alle film</span>
        </a>
      </li>
      <li>
        <a href="/minside" class="block w-full text-center py-6 text-2xl font-[var(--font-bold)] text-[var(--color-text-label)] hover:text-[var(--color-primary)] transition-colors">
          <span style="font-family:var(--font-bold); font-weight:700; font-size:18px;">Min Side</span>
        </a>
      </li>
    </ul>
  </nav>
</header>
